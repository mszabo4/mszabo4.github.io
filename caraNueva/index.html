
<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Figures irregulars per sentiment</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.3/p5.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/ml5js/Intro-ML-Arts-IMA@ml5-build-10-7-19/ml5_build/ml5.min.js"></script>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; background: #f0f0f0; }
    #loading-screen {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: rgba(255,255,255,0.95); display: flex; flex-direction: column;
      justify-content: center; align-items: center; font-family: Arial, sans-serif; z-index: 1000;
    }
    .loader {
      width: 40px; height: 40px; border: 5px solid #3498db; border-top-color: transparent;
      border-radius: 50%; animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    #loading-screen p { margin-top: 15px; font-size: 1.1em; color: #333; }
  </style>
</head>
<body>
  <div id="loading-screen">
    <div class="loader"></div>
    <p>Carregant models...</p>
  </div>
  <script>
    let faceapi, detections = [], video;
    let modelsReady = false;
    let currentExpression = { dominant: 'neutral', intensity: 0 };
    let smoothIntensity = 0;

    // Traducci贸 d'emocions a catal
    const emotionsCA = {
      happy: "feli莽",
      sad: "trist",
      angry: "enfadat",
      surprised: "sorpr猫s",
      disgusted: "fastiguejat",
      fearful: "espantat",
      neutral: "neutral"
    };

    // Emoticones per cada emoci贸
    const emotionsEmoji = {
      happy: "",
      sad: "",
      angry: "",
      surprised: "",
      disgusted: "あ",
      fearful: "",
      neutral: ""
    };

    function setup() {
      createCanvas(windowWidth, windowHeight);

      video = createCapture(VIDEO);
      video.size(320, 240);
      video.hide();
      video.elt.muted = true;
      video.elt.playsinline = true;

      const options = { withLandmarks: false, withExpressions: true, withDescriptors: false };
      faceapi = ml5.faceApi(video, options, () => {
        modelsReady = true;
        document.getElementById('loading-screen').style.display = 'none';
        faceapi.detect(gotResults);
      });
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }

    function gotResults(err, results) {
      if (err) {
        console.error(err);
        document.getElementById('loading-screen').innerHTML =
          '<p style="color: red">Error! Comprova la cmera i actualitza.</p>';
        return;
      }
      detections = results;
      if (detections.length > 0) updateCurrentExpression();
      faceapi.detect(gotResults);
    }

    function updateCurrentExpression() {
      let maxIntensity = 0;
      detections.forEach(face => {
        const expr = face.expressions;
        const dominant = Object.keys(expr).reduce((a, b) => expr[a] > expr[b] ? a : b);
        if (expr[dominant] > maxIntensity) {
          currentExpression = { dominant: dominant, intensity: expr[dominant] };
          maxIntensity = expr[dominant];
        }
      });
    }

    function draw() {
      background(240);

      // Transici贸 suau de la intensitat
      smoothIntensity = lerp(smoothIntensity, currentExpression.intensity, 0.1);

      // Dibuixa la figura geom猫trica gran centrada segons el sentiment
      push();
      translate(width/2, height/2);
      switch(currentExpression.dominant) {
        case 'happy':
push();
        translate(width/2 - 1000, height/2 - 600); // 300 i 400 s贸n la meitat de 600x800
         figuraFelic(smoothIntensity);
          pop();
          break;
        case 'sad':     
          push();
        translate(width/2 - 1000, height/2 - 600); // 300 i 400 s贸n la meitat de 600x800
         figuraTrist(smoothIntensity);    
          pop();
          break;
        case 'angry':    
          push();
        translate(width/2 - 1000, height/2 - 600); // 300 i 400 s贸n la meitat de 600x800
          figuraEnfadat(smoothIntensity);         
          pop();
 break;
        case 'disgusted':  
          push();
        translate(width/2 - 1000, height/2 - 600); 
          figuraFastiguejat(smoothIntensity); 
          pop();
          break;
        case 'surprised': 
        push();
        translate(width/2 - 1000, height/2 - 600); // 300 i 400 s贸n la meitat de 600x800
        figuraSorpr猫s(smoothIntensity); 
        pop();
        break;
        case 'fearful':   
          push();
        translate(width/2 - 1000, height/2 - 600); 
        figuraEspantat(smoothIntensity);
        pop();
          break;
        default:   
          push();
        translate(width/2 - 1000, height/2 - 600); 
          figuraNeutral(smoothIntensity);
          pop();
          break;
      }
      pop();

      // Mostra el v铆deo petit a la cantonada inferior dreta
      let vW = 160, vH = 120;
      let margin = 20;
      imageMode(CORNER);
      push();
      translate(width - vW - margin, height - vH - margin);
      stroke(255);
      strokeWeight(2);
      fill(0, 180);
      rect(-5, -5, vW+10, vH+10, 12);
      image(video, 0, 0, vW, vH);
      pop();

      // Text informatiu a dalt amb emoticona
      fill(30, 180);
      noStroke();
      textAlign(CENTER, TOP);
      textSize(28);
      let label = emotionsCA[currentExpression.dominant] || "neutral";
      let emoji = emotionsEmoji[currentExpression.dominant] || "";
      text(
        `${emoji} Sentiment: ${label} (${(smoothIntensity*100).toFixed(0)}%)`,
        width/2, 20
      );
    }

    // Figures irregulars per a cada sentiment
    function figuraFelic(intensity) {
  background(220);
  push();
translate(width/2 - 300, height/2 - 400);
   beginShape();

  stroke(255, 153, 0);
  strokeWeight(2);
  
  let cx = 30;        // centro x
  let cy = 100;       // centro y
  let r_in = 50;      // radio del sol
  let r_out = 65;     // largo de los rayos
  let num_rays = 16;  // n煤mero de rayos

  for (let i = 0; i < num_rays; i++) {
    let angle = TWO_PI / num_rays * i;
    let x1 = cx + cos(angle) * r_in;
    let y1 = cy + sin(angle) * r_in;
    let x2 = cx + cos(angle) * r_out;
    let y2 = cy + sin(angle) * r_out;
    line(x1, y1, x2, y2); 
  }
  beginShape()
    stroke(50);

  fill(255, 255, 0);

ellipse(300,238,394,397);
ellipse(30,100,100,100);
  


beginShape();
vertex(271, 206.1875);
vertex(273, 205.1875);
vertex(275, 204.1875);
vertex(278, 203.1875);
vertex(280, 203.1875);
vertex(283, 203.1875);
vertex(285, 203.1875);
vertex(288, 204.1875);
vertex(291, 205.1875);
vertex(293, 206.1875);
vertex(295, 208.1875);
vertex(297, 211.1875);
vertex(297, 214.1875);
vertex(296, 230.1875);
vertex(295, 233.1875);
vertex(293, 236.1875);
vertex(293, 237.1875);
vertex(294, 236.1875);
vertex(295, 236.1875);
vertex(297, 238.1875);
vertex(299, 238.1875);
vertex(302, 238.1875);
vertex(304, 237.1875);
vertex(304, 235.1875);
vertex(304, 232.1875);
vertex(303, 230.1875);
vertex(303, 215.1875);
vertex(303, 211.1875);
vertex(304, 208.1875);
vertex(306, 205.1875);
vertex(307, 204.1875);
vertex(310, 202.1875);
vertex(312, 202.1875);
vertex(315, 202.1875);
vertex(317, 202.1875);
vertex(319, 202.1875);
vertex(321, 203.1875);
vertex(323, 203.1875);
vertex(326, 204.1875);
vertex(326, 205.1875);
endShape();
 beginShape();
vertex(271, 206.1875);
vertex(272, 206.1875);
vertex(272, 206.1875);
vertex(273, 205.1875);
vertex(274, 205.1875);
vertex(274, 204.1875);
vertex(276, 204.1875);
vertex(276, 204.1875);
vertex(277, 204.1875);
vertex(278, 204.1875);
vertex(280, 204.1875);
vertex(280, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(282, 204.1875);
vertex(283, 204.1875);
vertex(283, 204.1875);
vertex(284, 204.1875);
vertex(285, 204.1875);
vertex(286, 204.1875);
vertex(287, 204.1875);
vertex(289, 205.1875);
vertex(289, 205.1875);
vertex(289, 206.1875);
vertex(290, 206.1875);
vertex(291, 207.1875);
vertex(291, 208.1875);
vertex(292, 209.1875);
vertex(292, 211.1875);
vertex(292, 213.1875);
vertex(291, 215.1875);
vertex(290, 216.1875);
vertex(288, 218.1875);
vertex(287, 217.1875);
vertex(289, 215.1875);
vertex(291, 213.1875);
vertex(291, 212.1875);
vertex(291, 210.1875);
vertex(291, 209.1875);
vertex(290, 206.1875);
vertex(288, 206.1875);
vertex(289, 207.1875);
vertex(290, 208.1875);
vertex(290, 208.1875);
endShape(CLOSE);
  beginShape();
vertex(301, 240.1875);
vertex(303, 241.1875);
vertex(304, 241.1875);
vertex(305, 241.1875);
vertex(306, 241.1875);
vertex(308, 240.1875);
vertex(309, 238.1875);
vertex(309, 236.1875);
vertex(308, 235.1875);
vertex(309, 234.1875);
vertex(309, 232.1875);
vertex(309, 232.1875);
vertex(309, 232.1875);
vertex(309, 230.1875);
vertex(308, 228.1875);
vertex(307, 226.1875);
vertex(309, 231.1875);
vertex(309, 232.1875);
vertex(309, 234.1875);
vertex(308, 235.1875);
vertex(308, 239.1875);
vertex(309, 239.1875);
vertex(306, 226.1875);
vertex(307, 228.1875);
vertex(307, 226.1875);
vertex(307, 225.1875);
vertex(307, 223.1875);
vertex(307, 221.1875);
vertex(307, 220.1875);
vertex(306, 217.1875);
vertex(306, 215.1875);
vertex(306, 214.1875);
vertex(307, 212.1875);
vertex(307, 211.1875);
vertex(308, 210.1875);
vertex(309, 209.1875);
vertex(312, 207.1875);
vertex(313, 206.1875);
vertex(313, 205.1875);
vertex(314, 204.1875);
vertex(315, 205.1875);
vertex(314, 205.1875);
vertex(311, 207.1875);
vertex(317, 205.1875);
vertex(318, 205.1875);
vertex(319, 205.1875);
vertex(321, 205.1875);
vertex(321, 205.1875);
vertex(323, 205.1875);
vertex(325, 205.1875);
vertex(325, 205.1875);
vertex(324, 204.1875);
vertex(323, 204.1875);
vertex(322, 204.1875);
vertex(320, 204.1875);
vertex(319, 204.1875);
vertex(318, 204.1875);
vertex(317, 204.1875);
vertex(316, 204.1875);
vertex(317, 204.1875);
vertex(314, 204.1875);
vertex(313, 204.1875);
vertex(311, 205.1875);
vertex(310, 207.1875);
vertex(308, 208.1875);
vertex(308, 209.1875);
vertex(305, 213.1875);
vertex(305, 217.1875);
vertex(305, 221.1875);
vertex(305, 227.1875);
vertex(307, 235.1875);
vertex(307, 236.1875);
vertex(307, 237.1875);
vertex(307, 236.1875);
vertex(307, 239.1875);
vertex(306, 239.1875);
vertex(305, 239.1875);
vertex(304, 239.1875);
vertex(302, 239.1875);
vertex(304, 238.1875);
vertex(305, 237.1875);
vertex(305, 237.1875);
vertex(305, 236.1875);
vertex(305, 235.1875);
vertex(305, 235.1875);
vertex(305, 233.1875);
vertex(305, 233.1875);
vertex(305, 234.1875);
vertex(305, 232.1875);
vertex(305, 232.1875);
vertex(306, 231.1875);
vertex(306, 231.1875);
vertex(307, 231.1875);
vertex(307, 231.1875);
vertex(308, 229.1875);
vertex(306, 229.1875);
vertex(304, 231.1875);
vertex(304, 229.1875);
vertex(304, 227.1875);
vertex(304, 226.1875);
vertex(304, 225.1875);
vertex(304, 224.1875);
vertex(304, 224.1875);
vertex(305, 225.1875);
vertex(304, 223.1875);
vertex(304, 218.1875);
vertex(304, 221.1875);
vertex(304, 221.1875);
vertex(306, 219.1875);
vertex(305, 217.1875);
vertex(304, 216.1875);
vertex(304, 215.1875);
vertex(305, 213.1875);
vertex(305, 211.1875);
vertex(306, 211.1875);
vertex(306, 209.1875);
vertex(307, 208.1875);
vertex(308, 207.1875);
vertex(310, 205.1875);
endShape(CLOSE);
fill(244,244,244)

 
  beginShape();
vertex(292, 208.1875);
vertex(291, 207.1875);
vertex(291, 206.1875);
vertex(290, 206.1875);
vertex(290, 206.1875);
vertex(290, 205.1875);
vertex(289, 205.1875);
vertex(293, 207.1875);
vertex(293, 208.1875);
vertex(293, 207.1875);
vertex(292, 206.1875);
vertex(292, 206.1875);
endShape(CLOSE);
  beginShape();
vertex(287, 205.1875);
vertex(288, 205.1875);
vertex(288, 205.1875);
vertex(289, 206.1875);
vertex(289, 206.1875);
vertex(290, 207.1875);
vertex(290, 207.1875);
vertex(291, 208.1875);
vertex(286, 204.1875);
endShape(CLOSE);
  
  beginShape();
vertex(273, 480.1875);
vertex(274, 479.1875);
vertex(276, 478.1875);
vertex(280, 478.1875);
vertex(285, 477.1875);
vertex(294, 476.1875);
vertex(304, 476.1875);
vertex(310, 476.1875);
vertex(315, 476.1875);
vertex(322, 478.1875);
vertex(326, 480.1875);
vertex(327, 485.1875);
vertex(328, 493.1875);
vertex(328, 498.1875);
vertex(326, 509.1875);
vertex(323, 519.1875);
vertex(319, 532.1875);
vertex(314, 543.1875);
vertex(302, 571.1875);
vertex(288, 546.1875);
vertex(283, 533.1875);
vertex(277, 518.1875);
vertex(273, 507.1875);
vertex(270, 492.1875);
vertex(269, 485.1875);
vertex(269, 482.1875);
vertex(271, 481.1875);
vertex(273, 480.1875);
endShape(CLOSE);
  beginShape();
vertex(322, 216.1875);
vertex(324, 216.1875);
vertex(324, 215.1875);
vertex(324, 214.1875);
vertex(324, 213.1875);
vertex(323, 213.1875);
vertex(323, 211.1875);
vertex(324, 213.1875);
vertex(324, 216.1875);
vertex(324, 216.1875);
vertex(325, 215.1875);
vertex(325, 212.1875);
vertex(324, 212.1875);
endShape(CLOSE);
beginShape();
vertex(268, 481.1875);
vertex(257, 490.1875);
vertex(248, 496.1875);
vertex(232, 501.1875);
vertex(215, 507.1875);
vertex(200, 513.1875);
vertex(187, 519.1875);
vertex(180, 525.1875);
vertex(177, 534.1875);
vertex(174, 552.1875);
vertex(170, 576.1875);
vertex(167, 597.1875);
vertex(164, 621.1875);
vertex(164, 640.1875);
vertex(162, 665.1875);
vertex(162, 695.1875);
vertex(164, 722.1875);
vertex(442, 722.1875);
vertex(438, 701.1875);
vertex(436, 672.1875);
vertex(436, 640.1875);
vertex(435, 614.1875);
vertex(433, 582.1875);
vertex(431, 558.1875);
vertex(427, 537.1875);
vertex(423, 528.1875);
vertex(416, 522.1875);
vertex(402, 516.1875);
vertex(386, 510.1875);
vertex(372, 504.1875);
vertex(358, 498.1875);
vertex(344, 492.1875);
vertex(327, 478.1875);
vertex(327, 483.1875);
vertex(327, 489.1875);
vertex(326, 495.1875);
vertex(325, 501.1875);
vertex(324, 509.1875);
vertex(321, 520.1875);
vertex(318, 530.1875);
vertex(313, 541.1875);
vertex(301, 568.1875);
vertex(287, 545.1875);
vertex(282, 529.1875);
vertex(277, 515.1875);
vertex(272, 498.1875);
vertex(269, 481.1875);
endShape(CLOSE);
    
 
  
  beginShape();
vertex(273, 480.1875);
vertex(276, 479.1875);
vertex(280, 478.1875);
vertex(285, 477.1875);
vertex(289, 477.1875);
vertex(295, 477.1875);
vertex(299, 477.1875);
vertex(304, 477.1875);
vertex(307, 477.1875);
vertex(311, 477.1875);
vertex(315, 477.1875);
vertex(318, 478.1875);
vertex(321, 479.1875);
vertex(324, 481.1875);
vertex(324, 483.1875);
vertex(322, 484.1875);
vertex(318, 485.1875);
vertex(312, 486.1875);
vertex(304, 487.1875);
vertex(296, 487.1875);
vertex(290, 486.1875);
vertex(284, 485.1875);
vertex(277, 482.1875);
vertex(273, 480.1875);
endShape(CLOSE);
beginShape();
vertex(275, 212.1875);
vertex(276, 210.1875);
vertex(279, 210.1875);
vertex(282, 210.1875);
vertex(285, 210.1875);
vertex(289, 211.1875);
vertex(292, 213.1875);
vertex(291, 215.1875);
vertex(289, 216.1875);
vertex(287, 216.1875);
vertex(283, 216.1875);
vertex(281, 216.1875);
vertex(278, 216.1875);
vertex(275, 213.1875);
endShape(CLOSE);
 beginShape();
vertex(309, 214.1875);
vertex(310, 213.1875);
vertex(311, 211.1875);
vertex(312, 211.1875);
vertex(315, 211.1875);
vertex(317, 211.1875);
vertex(320, 211.1875);
vertex(322, 211.1875);
vertex(323, 212.1875);
vertex(323, 213.1875);
vertex(323, 216.1875);
vertex(321, 216.1875);
vertex(320, 216.1875);
vertex(318, 216.1875);
vertex(316, 216.1875);
vertex(313, 216.1875);
vertex(311, 215.1875);
vertex(310, 215.1875);
endShape(CLOSE);
 
  beginShape();
vertex(282, 211.1875);
vertex(281, 212.1875);
vertex(281, 213.1875);
vertex(282, 214.1875);
vertex(283, 213.1875);
vertex(283, 213.1875);
vertex(283, 212.1875);
vertex(284, 212.1875);
vertex(282, 211.1875);
vertex(283, 211.1875);
vertex(283, 211.1875);
vertex(284, 211.1875);
vertex(284, 213.1875);
vertex(284, 214.1875);
vertex(283, 214.1875);
vertex(282, 214.1875);
vertex(281, 214.1875);
vertex(281, 213.1875);
vertex(281, 213.1875);
endShape(CLOSE);
  beginShape();
vertex(316, 213.1875);
vertex(316, 214.1875);
vertex(317, 214.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(316, 212.1875);
vertex(316, 212.1875);
vertex(317, 213.1875);
vertex(318, 213.1875);
vertex(318, 213.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(317, 211.1875);
vertex(316, 212.1875);
vertex(318, 215.1875);
vertex(318, 214.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(318, 212.1875);
endShape(CLOSE);
  
  fill(00,00,00)
  
  beginShape();

vertex(268, 481.1875);
vertex(257, 490.1875);
vertex(248, 496.1875);
vertex(232, 501.1875);
vertex(215, 507.1875);
vertex(200, 513.1875);
vertex(187, 519.1875);
vertex(180, 525.1875);
vertex(177, 534.1875);
vertex(174, 552.1875);
vertex(170, 576.1875);
vertex(167, 597.1875);
vertex(164, 621.1875);
vertex(164, 640.1875);
vertex(162, 665.1875);
vertex(162, 695.1875);
vertex(164, 722.1875);
vertex(442, 722.1875);
vertex(438, 701.1875);
vertex(436, 672.1875);
vertex(436, 640.1875);
vertex(435, 614.1875);
vertex(433, 582.1875);
vertex(431, 558.1875);
vertex(427, 537.1875);
vertex(423, 528.1875);
vertex(416, 522.1875);
vertex(402, 516.1875);
vertex(386, 510.1875);
vertex(372, 504.1875);
vertex(358, 498.1875);
vertex(344, 492.1875);
vertex(327, 478.1875);
vertex(327, 483.1875);
vertex(327, 489.1875);
vertex(326, 495.1875);
vertex(325, 501.1875);
vertex(324, 509.1875);
vertex(321, 520.1875);
vertex(318, 530.1875);
vertex(313, 541.1875);
vertex(301, 568.1875);
vertex(287, 545.1875);
vertex(282, 529.1875);
vertex(277, 515.1875);
vertex(272, 498.1875);
vertex(269, 481.1875);
endShape(CLOSE);
  fill(139,00,00)
  beginShape()
vertex(290, 248.1875);
vertex(292, 247.1875);
vertex(294, 247.1875);
vertex(295, 247.1875);
vertex(297, 247.1875);
vertex(298, 247.1875);
vertex(299, 247.1875);
vertex(301, 247.1875);
vertex(303, 247.1875);
vertex(305, 247.1875);
vertex(307, 247.1875);
vertex(307, 247.1875);
vertex(307, 247.1875);
vertex(309, 247.1875);
vertex(311, 247.1875);
vertex(311, 250.1875);
vertex(309, 252.1875);
vertex(307, 253.1875);
vertex(303, 254.1875);
vertex(300, 254.1875);
vertex(296, 254.1875);
vertex(293, 253.1875);
vertex(292, 252.1875);
vertex(290, 249.1875);
vertex(291, 250.1875);
vertex(309, 250.1875);
endShape(CLOSE);
   beginShape();
vertex(301, 570.1875);
vertex(288, 546.1875);
vertex(289, 540.1875);
vertex(290, 533.1875);
vertex(292, 525.1875);
vertex(294, 519.1875);
vertex(295, 515.1875);
vertex(295, 508.1875);
vertex(292, 506.1875);
vertex(295, 495.1875);
vertex(301, 494.1875);
vertex(306, 504.1875);
vertex(303, 507.1875);
vertex(303, 514.1875);
vertex(305, 520.1875);
vertex(307, 526.1875);
vertex(308, 531.1875);
vertex(310, 536.1875);
vertex(313, 546.1875);
vertex(301, 570.1875);
endShape(CLOSE);
fill(205,205,205)
  beginShape();
vertex(440, 659.1875);
vertex(598, 659.1875);
vertex(599, 724.1875);
vertex(442, 723.1875);
vertex(442, 719.1875);
vertex(441, 712.1875);
vertex(441, 703.1875);
vertex(440, 694.1875);
vertex(439, 682.1875);
vertex(439, 671.1875);
vertex(438, 657.1875);
vertex(597, 660.1875);
vertex(598, 677.1875);
vertex(559, 678.1875);
vertex(540, 658.1875);
vertex(558, 677.1875);
vertex(560, 713.1875);
vertex(598, 715.1875);
vertex(599, 724.1875);
vertex(575, 724.1875);
vertex(574, 714.1875);
vertex(509, 714.1875);
vertex(509, 723.1875);
vertex(509, 714.1875);
vertex(442, 714.1875);
vertex(473, 714.1875);
vertex(472, 680.1875);
vertex(459, 659.1875);
vertex(471, 679.1875);
vertex(557, 677.1875);
vertex(470, 679.1875);
vertex(437, 679.1875);
endShape(CLOSE);
  beginShape();
vertex(0, 661.1875);
vertex(68, 659.1875);
vertex(54, 681.1875);
vertex(56, 715.1875);
vertex(0, 717.1875);
vertex(0, 660.1875);
vertex(155, 659.1875);
vertex(147, 679.1875);
vertex(149, 715.1875);
vertex(56, 714.1875);
vertex(55, 681.1875);
vertex(147, 680.1875);
vertex(159, 680.1875);
vertex(160, 659.1875);
vertex(155, 658.1875);
vertex(146, 680.1875);
vertex(159, 679.1875);
vertex(161, 714.1875);
vertex(149, 715.1875);
vertex(161, 714.1875);
vertex(163, 724.1875);
vertex(102, 724.1875);
vertex(101, 714.1875);
vertex(101, 723.1875);
vertex(0, 724.1875);
vertex(0, 716.1875);
vertex(0, 680.1875);
vertex(54, 679.1875);
endShape();
  fill(80,82,112,255)
  beginShape();
vertex(160, 658.1875);
vertex(1, 659.1875);
vertex(0, 288.1875);
vertex(16, 280.1875);
vertex(19, 279.1875);
vertex(21, 279.1875);
vertex(25, 279.1875);
vertex(29, 280.1875);
vertex(31, 280.1875);
vertex(32, 281.1875);
vertex(34, 282.1875);
vertex(39, 283.1875);
vertex(40, 283.1875);
vertex(44, 285.1875);
vertex(48, 287.1875);
vertex(52, 287.1875);
vertex(56, 287.1875);
vertex(60, 288.1875);
vertex(62, 289.1875);
vertex(68, 291.1875);
vertex(71, 293.1875);
vertex(77, 296.1875);
vertex(83, 298.1875);
vertex(89, 299.1875);
vertex(89, 299.1875);
vertex(92, 301.1875);
vertex(97, 302.1875);
vertex(100, 301.1875);
vertex(104, 300.1875);
vertex(112, 300.1875);
vertex(113, 305.1875);
vertex(115, 310.1875);
vertex(117, 317.1875);
vertex(121, 323.1875);
vertex(125, 329.1875);
vertex(129, 336.1875);
vertex(132, 344.1875);
vertex(135, 349.1875);
vertex(140, 354.1875);
vertex(145, 362.1875);
vertex(152, 371.1875);
vertex(157, 376.1875);
vertex(162, 381.1875);
vertex(167, 386.1875);
vertex(172, 390.1875);
vertex(180, 396.1875);
vertex(186, 401.1875);
vertex(194, 406.1875);
vertex(201, 410.1875);
vertex(206, 412.1875);
vertex(213, 415.1875);
vertex(222, 419.1875);
vertex(231, 422.1875);
vertex(240, 425.1875);
vertex(251, 428.1875);
vertex(265, 430.1875);
vertex(277, 432.1875);
vertex(291, 432.1875);
vertex(305, 432.1875);
vertex(322, 431.1875);
vertex(339, 428.1875);
vertex(360, 424.1875);
vertex(379, 417.1875);
vertex(398, 409.1875);
vertex(413, 399.1875);
vertex(427, 388.1875);
vertex(441, 375.1875);
vertex(451, 360.1875);
vertex(463, 344.1875);
vertex(471, 329.1875);
vertex(482, 310.1875);
vertex(496, 306.1875);
vertex(497, 306.1875);
vertex(499, 308.1875);
vertex(503, 310.1875);
vertex(506, 311.1875);
vertex(509, 313.1875);
vertex(511, 314.1875);
vertex(515, 317.1875);
vertex(519, 316.1875);
vertex(523, 316.1875);
vertex(528, 321.1875);
vertex(534, 323.1875);
vertex(537, 324.1875);
vertex(539, 324.1875);
vertex(541, 326.1875);
vertex(546, 328.1875);
vertex(546, 328.1875);
vertex(550, 330.1875);
vertex(556, 333.1875);
vertex(561, 332.1875);
vertex(567, 330.1875);
vertex(571, 329.1875);
vertex(574, 329.1875);
vertex(579, 328.1875);
vertex(585, 326.1875);
vertex(590, 327.1875);
vertex(599, 328.1875);
vertex(598, 658.1875);
vertex(439, 659.1875);
vertex(437, 635.1875);
vertex(435, 614.1875);
vertex(434, 593.1875);
vertex(432, 568.1875);
vertex(430, 556.1875);
vertex(428, 541.1875);
vertex(424, 533.1875);
vertex(421, 527.1875);
vertex(417, 523.1875);
vertex(404, 518.1875);
vertex(393, 514.1875);
vertex(382, 509.1875);
vertex(372, 505.1875);
vertex(357, 498.1875);
vertex(347, 494.1875);
vertex(329, 479.1875);
vertex(325, 478.1875);
vertex(321, 477.1875);
vertex(314, 475.1875);
vertex(304, 473.1875);
vertex(297, 474.1875);
vertex(289, 474.1875);
vertex(282, 475.1875);
vertex(276, 476.1875);
vertex(271, 477.1875);
vertex(269, 479.1875);
vertex(253, 492.1875);
vertex(241, 499.1875);
vertex(224, 504.1875);
vertex(203, 512.1875);
vertex(177, 526.1875);
vertex(174, 541.1875);
vertex(172, 554.1875);
vertex(171, 565.1875);
vertex(171, 571.1875);
vertex(170, 577.1875);
vertex(170, 587.1875);
vertex(168, 600.1875);
vertex(167, 618.1875);
vertex(164, 655.1875);
vertex(163, 657.1875);
vertex(161, 657.1875);
endShape(CLOSE);
  beginShape();
fill(255,255,255);
  ellipse(15, 90, 20, 20);
  ellipse(45, 90, 20, 20);
  endShape();
  fill(0)
    ellipse(15, 90, 10, 10); 
    ellipse(45, 90, 10, 10); 
    endShape();

    beginShape();

  fill(150, 0, 0);
  ellipse(30, 120, 30, 15);
    endShape();
    }

    function figuraTrist(intensity) {
      // Gota d'aigua irregular
      let n = 10;
      let rBase = map(intensity, 0, 1, min(width, height)*0.18, min(width, height)*0.28);
      fill(70, 130, 180, 100 + 120*intensity);
      stroke(30, 60, 160, 160);
      strokeWeight(1 + 5*intensity);
      beginShape();
      for (let i = 0; i < n; i++) {
        let angle = map(i, 0, n, PI/5, TWO_PI + PI/5);
        let r = rBase + (i==0? 80*intensity : 0) + cos(angle*2 + frameCount*0.01)*15*intensity;
        let x = sin(angle) * r;
        let y = -cos(angle) * r * map(i,0,n,1,0.7);
        vertex(x, y);
      }
      endShape(CLOSE);
    }

    function figuraEnfadat(intensity) {
      // Estrella punxeguda i irregular
      let n = 8;
      let rBase = map(intensity, 0, 1, min(width, height)*0.19, min(width, height)*0.33);
      fill(220, 30, 60, 100 + 120*intensity);
      stroke(120, 0, 0, 180);
      strokeWeight(2 + 7*intensity);
      beginShape();
      for (let i = 0; i < n; i++) {
        let angle = map(i, 0, n, 0, TWO_PI);
        let r = rBase + (i%2==0? 60*intensity : 0) + sin(angle*4 + frameCount*0.12)*25*intensity;
        let x = cos(angle) * r;
        let y = sin(angle) * r;
        vertex(x, y);
      }
      endShape(CLOSE);
    }

    function figuraFastiguejat(intensity) {
      // Figura amorfa verda
      let n = 12;
      let rBase = map(intensity, 0, 1, min(width, height)*0.17, min(width, height)*0.29);
      fill(34, 139, 34, 90 + 140*intensity);
      stroke(0, 80, 0, 160);
      strokeWeight(2 + 4*intensity);
      beginShape();
      for (let i = 0; i < n; i++) {
        let angle = map(i, 0, n, 0, TWO_PI);
        let r = rBase + noise(i*0.5, frameCount*0.01) * 60 * intensity;
        let x = cos(angle) * r;
        let y = sin(angle) * r;
        vertex(x, y);
      }
      endShape(CLOSE);
    }

    function figuraSorpr猫s(intensity) {

    r = map(intensity, 0, 1, 255, 0);
    g = map(intensity, 0, 1, 255, 255);
    b = map(intensity, 0, 1, 255, 0);

  background(r, g, b);

// Cos
fill(r,g,b);
stroke(0);
beginShape();
  
  fill(247, 169, 94);

ellipse(300,238,394,397);
beginShape();
vertex(271, 206.1875);
vertex(273, 205.1875);
vertex(275, 204.1875);
vertex(278, 203.1875);
vertex(280, 203.1875);
vertex(283, 203.1875);
vertex(285, 203.1875);
vertex(288, 204.1875);
vertex(291, 205.1875);
vertex(293, 206.1875);
vertex(295, 208.1875);
vertex(297, 211.1875);
vertex(297, 214.1875);
vertex(296, 230.1875);
vertex(295, 233.1875);
vertex(293, 236.1875);
vertex(293, 237.1875);
vertex(294, 236.1875);
vertex(295, 236.1875);
vertex(297, 238.1875);
vertex(299, 238.1875);
vertex(302, 238.1875);
vertex(304, 237.1875);
vertex(304, 235.1875);
vertex(304, 232.1875);
vertex(303, 230.1875);
vertex(303, 215.1875);
vertex(303, 211.1875);
vertex(304, 208.1875);
vertex(306, 205.1875);
vertex(307, 204.1875);
vertex(310, 202.1875);
vertex(312, 202.1875);
vertex(315, 202.1875);
vertex(317, 202.1875);
vertex(319, 202.1875);
vertex(321, 203.1875);
vertex(323, 203.1875);
vertex(326, 204.1875);
vertex(326, 205.1875);
endShape();
 beginShape();
vertex(271, 206.1875);
vertex(272, 206.1875);
vertex(272, 206.1875);
vertex(273, 205.1875);
vertex(274, 205.1875);
vertex(274, 204.1875);
vertex(276, 204.1875);
vertex(276, 204.1875);
vertex(277, 204.1875);
vertex(278, 204.1875);
vertex(280, 204.1875);
vertex(280, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(281, 204.1875);
vertex(282, 204.1875);
vertex(283, 204.1875);
vertex(283, 204.1875);
vertex(284, 204.1875);
vertex(285, 204.1875);
vertex(286, 204.1875);
vertex(287, 204.1875);
vertex(289, 205.1875);
vertex(289, 205.1875);
vertex(289, 206.1875);
vertex(290, 206.1875);
vertex(291, 207.1875);
vertex(291, 208.1875);
vertex(292, 209.1875);
vertex(292, 211.1875);
vertex(292, 213.1875);
vertex(291, 215.1875);
vertex(290, 216.1875);
vertex(288, 218.1875);
vertex(287, 217.1875);
vertex(289, 215.1875);
vertex(291, 213.1875);
vertex(291, 212.1875);
vertex(291, 210.1875);
vertex(291, 209.1875);
vertex(290, 206.1875);
vertex(288, 206.1875);
vertex(289, 207.1875);
vertex(290, 208.1875);
vertex(290, 208.1875);
endShape(CLOSE);
  beginShape();
vertex(301, 240.1875);
vertex(303, 241.1875);
vertex(304, 241.1875);
vertex(305, 241.1875);
vertex(306, 241.1875);
vertex(308, 240.1875);
vertex(309, 238.1875);
vertex(309, 236.1875);
vertex(308, 235.1875);
vertex(309, 234.1875);
vertex(309, 232.1875);
vertex(309, 232.1875);
vertex(309, 232.1875);
vertex(309, 230.1875);
vertex(308, 228.1875);
vertex(307, 226.1875);
vertex(309, 231.1875);
vertex(309, 232.1875);
vertex(309, 234.1875);
vertex(308, 235.1875);
vertex(308, 239.1875);
vertex(309, 239.1875);
vertex(306, 226.1875);
vertex(307, 228.1875);
vertex(307, 226.1875);
vertex(307, 225.1875);
vertex(307, 223.1875);
vertex(307, 221.1875);
vertex(307, 220.1875);
vertex(306, 217.1875);
vertex(306, 215.1875);
vertex(306, 214.1875);
vertex(307, 212.1875);
vertex(307, 211.1875);
vertex(308, 210.1875);
vertex(309, 209.1875);
vertex(312, 207.1875);
vertex(313, 206.1875);
vertex(313, 205.1875);
vertex(314, 204.1875);
vertex(315, 205.1875);
vertex(314, 205.1875);
vertex(311, 207.1875);
vertex(317, 205.1875);
vertex(318, 205.1875);
vertex(319, 205.1875);
vertex(321, 205.1875);
vertex(321, 205.1875);
vertex(323, 205.1875);
vertex(325, 205.1875);
vertex(325, 205.1875);
vertex(324, 204.1875);
vertex(323, 204.1875);
vertex(322, 204.1875);
vertex(320, 204.1875);
vertex(319, 204.1875);
vertex(318, 204.1875);
vertex(317, 204.1875);
vertex(316, 204.1875);
vertex(317, 204.1875);
vertex(314, 204.1875);
vertex(313, 204.1875);
vertex(311, 205.1875);
vertex(310, 207.1875);
vertex(308, 208.1875);
vertex(308, 209.1875);
vertex(305, 213.1875);
vertex(305, 217.1875);
vertex(305, 221.1875);
vertex(305, 227.1875);
vertex(307, 235.1875);
vertex(307, 236.1875);
vertex(307, 237.1875);
vertex(307, 236.1875);
vertex(307, 239.1875);
vertex(306, 239.1875);
vertex(305, 239.1875);
vertex(304, 239.1875);
vertex(302, 239.1875);
vertex(304, 238.1875);
vertex(305, 237.1875);
vertex(305, 237.1875);
vertex(305, 236.1875);
vertex(305, 235.1875);
vertex(305, 235.1875);
vertex(305, 233.1875);
vertex(305, 233.1875);
vertex(305, 234.1875);
vertex(305, 232.1875);
vertex(305, 232.1875);
vertex(306, 231.1875);
vertex(306, 231.1875);
vertex(307, 231.1875);
vertex(307, 231.1875);
vertex(308, 229.1875);
vertex(306, 229.1875);
vertex(304, 231.1875);
vertex(304, 229.1875);
vertex(304, 227.1875);
vertex(304, 226.1875);
vertex(304, 225.1875);
vertex(304, 224.1875);
vertex(304, 224.1875);
vertex(305, 225.1875);
vertex(304, 223.1875);
vertex(304, 218.1875);
vertex(304, 221.1875);
vertex(304, 221.1875);
vertex(306, 219.1875);
vertex(305, 217.1875);
vertex(304, 216.1875);
vertex(304, 215.1875);
vertex(305, 213.1875);
vertex(305, 211.1875);
vertex(306, 211.1875);
vertex(306, 209.1875);
vertex(307, 208.1875);
vertex(308, 207.1875);
vertex(310, 205.1875);
endShape(CLOSE);
fill(244,244,244)

 
  beginShape();
vertex(292, 208.1875);
vertex(291, 207.1875);
vertex(291, 206.1875);
vertex(290, 206.1875);
vertex(290, 206.1875);
vertex(290, 205.1875);
vertex(289, 205.1875);
vertex(293, 207.1875);
vertex(293, 208.1875);
vertex(293, 207.1875);
vertex(292, 206.1875);
vertex(292, 206.1875);
endShape(CLOSE);
  beginShape();
vertex(287, 205.1875);
vertex(288, 205.1875);
vertex(288, 205.1875);
vertex(289, 206.1875);
vertex(289, 206.1875);
vertex(290, 207.1875);
vertex(290, 207.1875);
vertex(291, 208.1875);
vertex(286, 204.1875);
endShape(CLOSE);
  
  beginShape();
vertex(273, 480.1875);
vertex(274, 479.1875);
vertex(276, 478.1875);
vertex(280, 478.1875);
vertex(285, 477.1875);
vertex(294, 476.1875);
vertex(304, 476.1875);
vertex(310, 476.1875);
vertex(315, 476.1875);
vertex(322, 478.1875);
vertex(326, 480.1875);
vertex(327, 485.1875);
vertex(328, 493.1875);
vertex(328, 498.1875);
vertex(326, 509.1875);
vertex(323, 519.1875);
vertex(319, 532.1875);
vertex(314, 543.1875);
vertex(302, 571.1875);
vertex(288, 546.1875);
vertex(283, 533.1875);
vertex(277, 518.1875);
vertex(273, 507.1875);
vertex(270, 492.1875);
vertex(269, 485.1875);
vertex(269, 482.1875);
vertex(271, 481.1875);
vertex(273, 480.1875);
endShape(CLOSE);
  beginShape();
vertex(322, 216.1875);
vertex(324, 216.1875);
vertex(324, 215.1875);
vertex(324, 214.1875);
vertex(324, 213.1875);
vertex(323, 213.1875);
vertex(323, 211.1875);
vertex(324, 213.1875);
vertex(324, 216.1875);
vertex(324, 216.1875);
vertex(325, 215.1875);
vertex(325, 212.1875);
vertex(324, 212.1875);
endShape(CLOSE);
beginShape();
vertex(268, 481.1875);
vertex(257, 490.1875);
vertex(248, 496.1875);
vertex(232, 501.1875);
vertex(215, 507.1875);
vertex(200, 513.1875);
vertex(187, 519.1875);
vertex(180, 525.1875);
vertex(177, 534.1875);
vertex(174, 552.1875);
vertex(170, 576.1875);
vertex(167, 597.1875);
vertex(164, 621.1875);
vertex(164, 640.1875);
vertex(162, 665.1875);
vertex(162, 695.1875);
vertex(164, 722.1875);
vertex(442, 722.1875);
vertex(438, 701.1875);
vertex(436, 672.1875);
vertex(436, 640.1875);
vertex(435, 614.1875);
vertex(433, 582.1875);
vertex(431, 558.1875);
vertex(427, 537.1875);
vertex(423, 528.1875);
vertex(416, 522.1875);
vertex(402, 516.1875);
vertex(386, 510.1875);
vertex(372, 504.1875);
vertex(358, 498.1875);
vertex(344, 492.1875);
vertex(327, 478.1875);
vertex(327, 483.1875);
vertex(327, 489.1875);
vertex(326, 495.1875);
vertex(325, 501.1875);
vertex(324, 509.1875);
vertex(321, 520.1875);
vertex(318, 530.1875);
vertex(313, 541.1875);
vertex(301, 568.1875);
vertex(287, 545.1875);
vertex(282, 529.1875);
vertex(277, 515.1875);
vertex(272, 498.1875);
vertex(269, 481.1875);
endShape(CLOSE);
    
 
  
  beginShape();
vertex(273, 480.1875);
vertex(276, 479.1875);
vertex(280, 478.1875);
vertex(285, 477.1875);
vertex(289, 477.1875);
vertex(295, 477.1875);
vertex(299, 477.1875);
vertex(304, 477.1875);
vertex(307, 477.1875);
vertex(311, 477.1875);
vertex(315, 477.1875);
vertex(318, 478.1875);
vertex(321, 479.1875);
vertex(324, 481.1875);
vertex(324, 483.1875);
vertex(322, 484.1875);
vertex(318, 485.1875);
vertex(312, 486.1875);
vertex(304, 487.1875);
vertex(296, 487.1875);
vertex(290, 486.1875);
vertex(284, 485.1875);
vertex(277, 482.1875);
vertex(273, 480.1875);
endShape(CLOSE);
beginShape();
vertex(275, 212.1875);
vertex(276, 210.1875);
vertex(279, 210.1875);
vertex(282, 210.1875);
vertex(285, 210.1875);
vertex(289, 211.1875);
vertex(292, 213.1875);
vertex(291, 215.1875);
vertex(289, 216.1875);
vertex(287, 216.1875);
vertex(283, 216.1875);
vertex(281, 216.1875);
vertex(278, 216.1875);
vertex(275, 213.1875);
endShape(CLOSE);
 beginShape();
vertex(309, 214.1875);
vertex(310, 213.1875);
vertex(311, 211.1875);
vertex(312, 211.1875);
vertex(315, 211.1875);
vertex(317, 211.1875);
vertex(320, 211.1875);
vertex(322, 211.1875);
vertex(323, 212.1875);
vertex(323, 213.1875);
vertex(323, 216.1875);
vertex(321, 216.1875);
vertex(320, 216.1875);
vertex(318, 216.1875);
vertex(316, 216.1875);
vertex(313, 216.1875);
vertex(311, 215.1875);
vertex(310, 215.1875);
endShape(CLOSE);
 
  beginShape();
vertex(282, 211.1875);
vertex(281, 212.1875);
vertex(281, 213.1875);
vertex(282, 214.1875);
vertex(283, 213.1875);
vertex(283, 213.1875);
vertex(283, 212.1875);
vertex(284, 212.1875);
vertex(282, 211.1875);
vertex(283, 211.1875);
vertex(283, 211.1875);
vertex(284, 211.1875);
vertex(284, 213.1875);
vertex(284, 214.1875);
vertex(283, 214.1875);
vertex(282, 214.1875);
vertex(281, 214.1875);
vertex(281, 213.1875);
vertex(281, 213.1875);
endShape(CLOSE);
  beginShape();
vertex(316, 213.1875);
vertex(316, 214.1875);
vertex(317, 214.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(316, 212.1875);
vertex(316, 212.1875);
vertex(317, 213.1875);
vertex(318, 213.1875);
vertex(318, 213.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(317, 211.1875);
vertex(316, 212.1875);
vertex(318, 215.1875);
vertex(318, 214.1875);
vertex(318, 213.1875);
vertex(318, 212.1875);
vertex(318, 212.1875);
endShape(CLOSE);
  
  fill(00,00,00)
  
  beginShape();

vertex(268, 481.1875);
vertex(257, 490.1875);
vertex(248, 496.1875);
vertex(232, 501.1875);
vertex(215, 507.1875);
vertex(200, 513.1875);
vertex(187, 519.1875);
vertex(180, 525.1875);
vertex(177, 534.1875);
vertex(174, 552.1875);
vertex(170, 576.1875);
vertex(167, 597.1875);
vertex(164, 621.1875);
vertex(164, 640.1875);
vertex(162, 665.1875);
vertex(162, 695.1875);
vertex(164, 722.1875);
vertex(442, 722.1875);
vertex(438, 701.1875);
vertex(436, 672.1875);
vertex(436, 640.1875);
vertex(435, 614.1875);
vertex(433, 582.1875);
vertex(431, 558.1875);
vertex(427, 537.1875);
vertex(423, 528.1875);
vertex(416, 522.1875);
vertex(402, 516.1875);
vertex(386, 510.1875);
vertex(372, 504.1875);
vertex(358, 498.1875);
vertex(344, 492.1875);
vertex(327, 478.1875);
vertex(327, 483.1875);
vertex(327, 489.1875);
vertex(326, 495.1875);
vertex(325, 501.1875);
vertex(324, 509.1875);
vertex(321, 520.1875);
vertex(318, 530.1875);
vertex(313, 541.1875);
vertex(301, 568.1875);
vertex(287, 545.1875);
vertex(282, 529.1875);
vertex(277, 515.1875);
vertex(272, 498.1875);
vertex(269, 481.1875);
endShape(CLOSE);
  fill(139,00,00)
  beginShape()
vertex(290, 248.1875);
vertex(292, 247.1875);
vertex(294, 247.1875);
vertex(295, 247.1875);
vertex(297, 247.1875);
vertex(298, 247.1875);
vertex(299, 247.1875);
vertex(301, 247.1875);
vertex(303, 247.1875);
vertex(305, 247.1875);
vertex(307, 247.1875);
vertex(307, 247.1875);
vertex(307, 247.1875);
vertex(309, 247.1875);
vertex(311, 247.1875);
vertex(311, 250.1875);
vertex(309, 252.1875);
vertex(307, 253.1875);
vertex(303, 254.1875);
vertex(300, 254.1875);
vertex(296, 254.1875);
vertex(293, 253.1875);
vertex(292, 252.1875);
vertex(290, 249.1875);
vertex(291, 250.1875);
vertex(309, 250.1875);
endShape(CLOSE);
   beginShape();
vertex(301, 570.1875);
vertex(288, 546.1875);
vertex(289, 540.1875);
vertex(290, 533.1875);
vertex(292, 525.1875);
vertex(294, 519.1875);
vertex(295, 515.1875);
vertex(295, 508.1875);
vertex(292, 506.1875);
vertex(295, 495.1875);
vertex(301, 494.1875);
vertex(306, 504.1875);
vertex(303, 507.1875);
vertex(303, 514.1875);
vertex(305, 520.1875);
vertex(307, 526.1875);
vertex(308, 531.1875);
vertex(310, 536.1875);
vertex(313, 546.1875);
vertex(301, 570.1875);
endShape(CLOSE);
fill(205,205,205)
  beginShape();
vertex(440, 659.1875);
vertex(598, 659.1875);
vertex(599, 724.1875);
vertex(442, 723.1875);
vertex(442, 719.1875);
vertex(441, 712.1875);
vertex(441, 703.1875);
vertex(440, 694.1875);
vertex(439, 682.1875);
vertex(439, 671.1875);
vertex(438, 657.1875);
vertex(597, 660.1875);
vertex(598, 677.1875);
vertex(559, 678.1875);
vertex(540, 658.1875);
vertex(558, 677.1875);
vertex(560, 713.1875);
vertex(598, 715.1875);
vertex(599, 724.1875);
vertex(575, 724.1875);
vertex(574, 714.1875);
vertex(509, 714.1875);
vertex(509, 723.1875);
vertex(509, 714.1875);
vertex(442, 714.1875);
vertex(473, 714.1875);
vertex(472, 680.1875);
vertex(459, 659.1875);
vertex(471, 679.1875);
vertex(557, 677.1875);
vertex(470, 679.1875);
vertex(437, 679.1875);
endShape(CLOSE);
  beginShape();
vertex(0, 661.1875);
vertex(68, 659.1875);
vertex(54, 681.1875);
vertex(56, 715.1875);
vertex(0, 717.1875);
vertex(0, 660.1875);
vertex(155, 659.1875);
vertex(147, 679.1875);
vertex(149, 715.1875);
vertex(56, 714.1875);
vertex(55, 681.1875);
vertex(147, 680.1875);
vertex(159, 680.1875);
vertex(160, 659.1875);
vertex(155, 658.1875);
vertex(146, 680.1875);
vertex(159, 679.1875);
vertex(161, 714.1875);
vertex(149, 715.1875);
vertex(161, 714.1875);
vertex(163, 724.1875);
vertex(102, 724.1875);
vertex(101, 714.1875);
vertex(101, 723.1875);
vertex(0, 724.1875);
vertex(0, 716.1875);
vertex(0, 680.1875);
vertex(54, 679.1875);
endShape();
  fill(80,82,112,255)
  beginShape();
vertex(160, 658.1875);
vertex(1, 659.1875);
vertex(0, 288.1875);
vertex(16, 280.1875);
vertex(19, 279.1875);
vertex(21, 279.1875);
vertex(25, 279.1875);
vertex(29, 280.1875);
vertex(31, 280.1875);
vertex(32, 281.1875);
vertex(34, 282.1875);
vertex(39, 283.1875);
vertex(40, 283.1875);
vertex(44, 285.1875);
vertex(48, 287.1875);
vertex(52, 287.1875);
vertex(56, 287.1875);
vertex(60, 288.1875);
vertex(62, 289.1875);
vertex(68, 291.1875);
vertex(71, 293.1875);
vertex(77, 296.1875);
vertex(83, 298.1875);
vertex(89, 299.1875);
vertex(89, 299.1875);
vertex(92, 301.1875);
vertex(97, 302.1875);
vertex(100, 301.1875);
vertex(104, 300.1875);
vertex(112, 300.1875);
vertex(113, 305.1875);
vertex(115, 310.1875);
vertex(117, 317.1875);
vertex(121, 323.1875);
vertex(125, 329.1875);
vertex(129, 336.1875);
vertex(132, 344.1875);
vertex(135, 349.1875);
vertex(140, 354.1875);
vertex(145, 362.1875);
vertex(152, 371.1875);
vertex(157, 376.1875);
vertex(162, 381.1875);
vertex(167, 386.1875);
vertex(172, 390.1875);
vertex(180, 396.1875);
vertex(186, 401.1875);
vertex(194, 406.1875);
vertex(201, 410.1875);
vertex(206, 412.1875);
vertex(213, 415.1875);
vertex(222, 419.1875);
vertex(231, 422.1875);
vertex(240, 425.1875);
vertex(251, 428.1875);
vertex(265, 430.1875);
vertex(277, 432.1875);
vertex(291, 432.1875);
vertex(305, 432.1875);
vertex(322, 431.1875);
vertex(339, 428.1875);
vertex(360, 424.1875);
vertex(379, 417.1875);
vertex(398, 409.1875);
vertex(413, 399.1875);
vertex(427, 388.1875);
vertex(441, 375.1875);
vertex(451, 360.1875);
vertex(463, 344.1875);
vertex(471, 329.1875);
vertex(482, 310.1875);
vertex(496, 306.1875);
vertex(497, 306.1875);
vertex(499, 308.1875);
vertex(503, 310.1875);
vertex(506, 311.1875);
vertex(509, 313.1875);
vertex(511, 314.1875);
vertex(515, 317.1875);
vertex(519, 316.1875);
vertex(523, 316.1875);
vertex(528, 321.1875);
vertex(534, 323.1875);
vertex(537, 324.1875);
vertex(539, 324.1875);
vertex(541, 326.1875);
vertex(546, 328.1875);
vertex(546, 328.1875);
vertex(550, 330.1875);
vertex(556, 333.1875);
vertex(561, 332.1875);
vertex(567, 330.1875);
vertex(571, 329.1875);
vertex(574, 329.1875);
vertex(579, 328.1875);
vertex(585, 326.1875);
vertex(590, 327.1875);
vertex(599, 328.1875);
vertex(598, 658.1875);
vertex(439, 659.1875);
vertex(437, 635.1875);
vertex(435, 614.1875);
vertex(434, 593.1875);
vertex(432, 568.1875);
vertex(430, 556.1875);
vertex(428, 541.1875);
vertex(424, 533.1875);
vertex(421, 527.1875);
vertex(417, 523.1875);
vertex(404, 518.1875);
vertex(393, 514.1875);
vertex(382, 509.1875);
vertex(372, 505.1875);
vertex(357, 498.1875);
vertex(347, 494.1875);
vertex(329, 479.1875);
vertex(325, 478.1875);
vertex(321, 477.1875);
vertex(314, 475.1875);
vertex(304, 473.1875);
vertex(297, 474.1875);
vertex(289, 474.1875);
vertex(282, 475.1875);
vertex(276, 476.1875);
vertex(271, 477.1875);
vertex(269, 479.1875);
vertex(253, 492.1875);
vertex(241, 499.1875);
vertex(224, 504.1875);
vertex(203, 512.1875);
vertex(177, 526.1875);
vertex(174, 541.1875);
vertex(172, 554.1875);
vertex(171, 565.1875);
vertex(171, 571.1875);
vertex(170, 577.1875);
vertex(170, 587.1875);
vertex(168, 600.1875);
vertex(167, 618.1875);
vertex(164, 655.1875);
vertex(163, 657.1875);
vertex(161, 657.1875);
endShape(CLOSE);

 }
    function figuraEspantat(intensity) {
      // Figura ca貌tica per a la por
      let n = 18;
      let rBase = map(intensity, 0, 1, min(width, height)*0.18, min(width, height)*0.32);
      fill(100, 200, 255, 90 + 120*intensity);
      stroke(30, 80, 200, 170);
      strokeWeight(2 + 5*intensity);
      beginShape();
      for (let i = 0; i < n; i++) {
        let angle = map(i, 0, n, 0, TWO_PI);
        let r = rBase + sin(angle*9 + frameCount*0.13) * 45 * intensity + random(-15, 15)*intensity;
        let x = cos(angle) * r;
        let y = sin(angle) * r;
        vertex(x, y);
      }
      endShape(CLOSE);
    }

    function figuraNeutral(intensity) {
      // Hexgon suau i lleugerament irregular
      let n = 6;
      let rBase = map(intensity, 0, 1, min(width, height)*0.21, min(width, height)*0.27);
      fill(180, 180, 180, 80 + 120*intensity);
      stroke(80, 80, 80, 120);
      strokeWeight(1 + 3*intensity);
      beginShape();
      for (let i = 0; i < n; i++) {
        let angle = map(i, 0, n, 0, TWO_PI);
        let r = rBase + sin(angle*2 + frameCount*0.02) * 10 * intensity;
        let x = cos(angle) * r;
        let y = sin(angle) * r;
        vertex(x, y);
      }
      endShape(CLOSE);
    }
  </script>
</body>
</html>
