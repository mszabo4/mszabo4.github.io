<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Audio Visualizer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');

        /* Global styles */
        body {
            font-family: 'Orbitron', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #000428, #004e92);
            color: #00ffcc;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        /* Animated Background */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.2), rgba(0, 78, 146, 0.2));
            z-index: -1;
            filter: blur(100px);
            animation: gradientMovement 8s infinite alternate;
        }

        @keyframes gradientMovement {
            0% { transform: translate(-20px, -20px); }
            100% { transform: translate(20px, 20px); }
        }

        h1 {
            font-size: 2.8rem;
            margin-top: 30px;
            color: #00ffcc;
            text-shadow: 0 0 15px #00ffcc, 0 0 25px #00e6b8, 0 0 35px #00ffcc;
            animation: neonPulse 1.5s infinite alternate;
        }

        @keyframes neonPulse {
            from { text-shadow: 0 0 10px #00ffcc, 0 0 20px #00ffcc, 0 0 30px #00ffcc; }
            to { text-shadow: 0 0 20px #00e6b8, 0 0 30px #00e6b8, 0 0 40px #00ffcc; }
        }

        .controls {
            background-color: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
            display: inline-block;
            margin-top: 15px;
            border: 2px solid #00ffcc;
            animation: borderGlow 2s infinite alternate;
        }

        @keyframes borderGlow {
            from { border-color: #00e6b8; }
            to { border-color: #00ffcc; }
        }

        label {
            font-size: 1.4rem;
            color: #00ffcc;
            text-shadow: 0 0 10px #00e6b8;
        }

        select, input[type="file"] {
            background: #0d0d0d;
            color: #00ffcc;
            border: 2px solid #00e6b8;
            padding: 10px;
            font-size: 1rem;
            border-radius: 10px;
            box-shadow: 0 0 10px #00ffcc;
            outline: none;
            transition: 0.3s;
        }

        select:hover, input[type="file"]::file-selector-button:hover {
            background-color: #00e6b8;
            color: #0d0d0d;
        }

        audio {
            margin-top: 15px;
            filter: drop-shadow(0 0 10px #00ffcc);
        }

        svg {
            display: block;
            margin: 30px auto;
            width: 80%;
            height: auto;
            max-width: 500px;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            box-shadow: 0 0 25px #00ffcc;
            border: 2px solid #00e6b8;
            animation: borderGlow 2s infinite alternate;
        }

        option {
            background-color: #0d0d0d;
        }

        input[type="file"]::file-selector-button {
            background-color: #00ffcc;
            color: #0d0d0d;
            border: none;
            padding: 5px 15px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
            box-shadow: 0 0 10px #00ffcc;
        }

        input[type="file"]::file-selector-button:hover {
            background-color: #00e6b8;
        }
    </style>
</head>
<body>
    <h1>SVG Audio Visualizer</h1>
    <div class="controls">
        <label for="songSelect">Choose Song:</label>
        <select id="songSelect">
            <option value="song1">Song 1</option>
            <option value="song2">Song 2</option>
        </select>
        <br><br>
        <input type="file" id="audioFile" accept="audio/*">
        <br><br>
        <audio id="audioPlayer" controls></audio>
    </div>
         <svg id="svgVisualizer" width="400" height="400" viewBox="0 0 100 100">
      <g id="coldplay"style="display:none;" fill="hsl(200, 100%, 50%)">
 <path d="M 6.484375 0.191406 C -2.53125 -0.679688 -1.636719 11.554688 6.035156 10.199219 C 3.070312 9.28125 1.988281 7.316406 2.027344 5.261719 C 2.1875 2.601562 3.398438 1.171875 6.484375 0.191406 Z M 6.484375 0.191406 "/>
            <path d="M 21.96875 5.242188 C 21.96875 2.347656 19.550781 0 16.566406 0 C 13.582031 0 11.164062 2.347656 11.164062 5.242188 C 11.164062 8.140625 13.582031 10.488281 16.566406 10.488281 C 19.550781 10.488281 21.96875 8.140625 21.96875 5.242188 Z M 21.96875 5.242188 "/>
            <path d="M 40.976562 0.417969 C 46.726562 3.878906 44.539062 8.96875 40.882812 10.359375 C 49.652344 11.398438 49.847656 -0.496094 40.976562 0.417969 Z M 40.976562 0.417969 "/>
            <path d="M 28.796875 0.769531 C 22.613281 6.183594 31.28125 13.558594 35.816406 8.113281 C 32.449219 10.523438 25.0625 7.371094 28.796875 0.769531 Z M 28.796875 0.769531 "/>
            <path d="M 52.101562 2.949219 C 57.777344 -3.421875 65.484375 5.554688 59.316406 10.070312 C 61.675781 5.960938 58.074219 0.195312 52.101562 2.949219 Z M 52.101562 2.949219 "/>
            <path d="M 68.003906 1.21875 C 62.207031 6.25 70.796875 13.847656 75.152344 8.308594 C 70.707031 11 65.160156 6.925781 68.003906 1.21875 Z M 68.003906 1.21875 "/>
            <path d="M 79.738281 7.121094 C 78.707031 -0.320312 89.859375 -1.390625 89.769531 7.25 C 88.316406 3.441406 82.785156 0.753906 79.738281 7.121094 Z M 79.738281 7.121094 "/>
            <path d="M 93.617188 1.058594 C 101.425781 0.101562 101.820312 11.902344 93.90625 10.9375 C 98.554688 9.375 99.34375 3.324219 93.617188 1.058594 Z M 93.617188 1.058594 "/>
            <path d="M 103.042969 2.742188 C 103.042969 1.792969 102.269531 1.027344 101.3125 1.027344 C 100.355469 1.027344 99.582031 1.792969 99.582031 2.742188 C 99.582031 3.691406 100.355469 4.457031 101.3125 4.457031 C 102.269531 4.457031 103.042969 3.691406 103.042969 2.742188 Z M 103.042969 2.742188 "/>
</g>
        <g id="cloud" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 64.538086 25.637695 C 98.912109 -0.0439453 130.209961 4.798828 158.695312 27.404297 C 129.27832 2.460938 97.488281 2.258789 64.538086 25.637695 Z M 64.538086 25.637695 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 64.538086 26.077148 C -13.543945 13.069336 -24.354492 122.888672 64.538086 121.12207 C -20.803711 118.248047 -10.212891 18.175781 64.538086 26.077148 Z M 64.538086 26.077148 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 64.977539 120.234375 C 95.616211 149.730469 137.583984 143.384766 153.834961 123.776367 C 132.820312 139.385742 104.72168 148.623047 64.977539 120.234375 Z M 64.977539 120.234375 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 160.461914 27.852539 C 247.095703 8.824219 240.152344 137.074219 156.041016 125.542969 C 270.834961 119.232422 210.401367 1.854492 160.461914 27.852539 Z M 160.461914 27.852539 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 100.78418 75.146484 C 101.15332 82.810547 121.016602 84.858398 124.136719 73.898438 C 113.581055 81.641602 106.848633 78.319336 100.78418 75.146484 Z M 100.78418 75.146484 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 150.00293 73.125 C 150.00293 69.600586 148.992188 66.75293 147.75293 66.75293 C 146.504883 66.75293 145.50293 69.600586 145.50293 73.125 C 145.50293 76.649414 146.504883 79.49707 147.75293 79.49707 C 148.992188 79.49707 150.00293 76.649414 150.00293 73.125 Z M 150.00293 73.125 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 78.75 73.87207 C 78.75 70.356445 77.739258 67.5 76.5 67.5 C 75.260742 67.5 74.25 70.356445 74.25 73.87207 C 74.25 77.396484 75.260742 80.25293 76.5 80.25293 C 77.739258 80.25293 78.75 77.396484 78.75 73.87207 Z M 78.75 73.87207 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
<path d="M 129.75293 138.251953 L 117.74707 158.24707 L 133.751953 158.24707 C 141.987305 158.871094 145.59082 167.264648 139.253906 174.251953 L 102.251953 213.75 C 100.415039 216.193359 94.271484 215.586914 95.24707 209.99707 L 110.750977 179.499023 L 90.246094 180.74707 C 82.977539 181.186523 78.662109 175.614258 81.500977 168.249023 L 95.748047 138.75293 C 107.085938 141.890625 118.415039 142.426758 129.75293 138.251953 Z M 129.75293 138.251953 " transform="matrix(0.444444,0,0,0.444444,0,0)"/>
</g>
  <g id="heart"style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 147.101089 36.369877 C 84.897372 -15.13627 13.849471 38.905738 110.071023 117.709016 C 128.427517 132.755123 132.266414 162.328893 132.051255 162.610656 C 158.244081 151.295082 183.315814 129.216189 201.230666 111.228484 C 262.120778 50.063525 221.659485 -45.318648 147.101089 36.369877 Z M 147.101089 36.369877 " transform="matrix(0.344948,0,0,0.346591,0,0)"/>
</g>
        <g id="eyes"style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 97.449609 86.45625 C 97.449609 78.978281 91.300781 72.903984 83.711016 72.903984 C 76.12125 72.903984 69.972422 78.978281 69.972422 86.45625 C 69.972422 93.946641 76.12125 100.020938 83.711016 100.020938 C 91.300781 100.020938 97.449609 93.946641 97.449609 86.45625 Z M 97.449609 86.45625 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 94.157813 82.431562 C 94.157813 79.798125 92.02125 77.673984 89.387813 77.673984 C 86.766797 77.673984 84.630234 79.798125 84.630234 82.431562 C 84.630234 85.065 86.766797 87.189141 89.387813 87.189141 C 92.02125 87.189141 94.157813 85.065 94.157813 82.431562 Z M 94.157813 82.431562 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 32.980078 53.86125 L 44.333672 72.183516 Z M 32.980078 53.86125 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 55.004063 40.731328 L 60.134297 60.879609 Z M 55.004063 40.731328 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 83.947031 37.178672 L 84.319688 56.954297 Z M 83.947031 37.178672 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 111.945937 41.563594 L 105.722578 60.61875 Z M 111.945937 41.563594 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 135.659297 55.550625 L 125.026172 73.127578 Z M 135.659297 55.550625 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 32.967656 85.723359 C 59.177813 42.122578 118.368047 53.053828 134.814609 86.096016 C 122.839922 118.864922 60.457266 133.746328 32.967656 85.723359 Z M 32.967656 85.723359 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 111.734766 86.45625 C 111.734766 70.270547 98.704219 57.153047 82.617891 57.153047 C 66.531563 57.153047 53.488594 70.270547 53.488594 86.45625 C 53.488594 102.641953 66.531563 115.771875 82.617891 115.771875 C 98.704219 115.771875 111.734766 102.641953 111.734766 86.45625 Z M 111.734766 86.45625 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 244.611563 86.046328 C 244.611563 78.555937 238.462734 72.494062 230.872969 72.494062 C 223.283203 72.494062 217.134375 78.555937 217.134375 86.046328 C 217.134375 93.524297 223.283203 99.598594 230.872969 99.598594 C 238.462734 99.598594 244.611563 93.524297 244.611563 86.046328 Z M 244.611563 86.046328 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 179.297344 54.283594 L 190.650937 72.605859 Z M 179.297344 54.283594 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 204.687656 40.731328 L 209.817891 60.879609 Z M 204.687656 40.731328 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 230.686641 36.756328 L 231.059297 56.544375 Z M 230.686641 36.756328 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 258.685547 41.985937 L 252.462187 61.041094 Z M 258.685547 41.985937 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 279.877266 53.028984 L 269.256563 70.618359 Z M 279.877266 53.028984 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 180.129609 85.313438 C 206.339766 41.700234 265.53 52.631484 281.976562 85.673672 C 270.001875 118.455 207.619219 133.336406 180.129609 85.313438 Z M 180.129609 85.313438 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 258.896719 86.046328 C 258.896719 69.860625 245.85375 56.730703 229.779844 56.730703 C 213.693516 56.730703 200.650547 69.860625 200.650547 86.046328 C 200.650547 102.232031 213.693516 115.349531 229.779844 115.349531 C 245.85375 115.349531 258.896719 102.232031 258.896719 86.046328 Z M 258.896719 86.046328 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
<path d="M 241.319766 82.009219 C 241.319766 79.388203 239.183203 77.251641 236.549766 77.251641 C 233.916328 77.251641 231.792188 79.388203 231.792188 82.009219 C 231.792188 84.642656 233.916328 86.779219 236.549766 86.779219 C 239.183203 86.779219 241.319766 84.642656 241.319766 82.009219 Z M 241.319766 82.009219 " transform="matrix(0.314465,0,0,0.314465,0,0)"/>
</g>
        <g id="star"style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 119.615852 159.294383 L 72.9542 134.791434 L 26.317154 159.33551 L 35.20001 107.393204 L -2.554179 70.618216 L 49.594667 63.018107 L 72.896785 15.74773 L 96.248117 62.993431 L 148.405165 70.552414 L 110.683783 107.352078 Z M 119.615852 159.294383 " transform="matrix(0.476251,0,0,0.474911,16.673461,21.060294)"/>
     
<g id="coldplay2" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 66.109214 32.132353 C 69.689836 21.147978 81.490013 15.123162 92.496456 18.685662 C 103.485261 22.248162 109.517639 34.053309 105.954655 45.055147 C 102.391672 56.056985 90.591495 62.081801 79.585052 58.519301 C 68.578608 54.974265 62.546231 43.169118 66.109214 32.167279 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 50.289062 6.660156 L 56.324219 12.753906 Z M 50.289062 6.660156 "/>
<path d="M 288.195957 22.754596 C 263.378544 45.648897 301.84818 71.30239 316.347052 51.464154 C 290.55952 60.964154 277.965609 40.444853 288.195957 22.754596 Z M 288.195957 22.754596 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 45.683795 18.703125 C 28.644974 25.880515 19.984456 48.111213 44.925338 59.567096 C 10.001047 59.375 15.627738 17.672794 45.683795 18.703125 Z M 45.683795 18.703125 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 133.788257 21.200368 C 109.129591 41.387868 143.101401 73.258272 162.115738 49.735294 C 130.384021 63.793199 126.679929 28.272978 133.788257 21.200368 Z M 133.788257 21.200368 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 182.364771 20.431985 C 220.023035 16.956801 210.798083 65.556985 181.588676 58.798713 C 190.760712 55.044118 205.171392 35.502757 182.364771 20.431985 Z M 182.364771 20.431985 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 226.708038 29.6875 C 243.041318 7.159926 281.863724 34.943934 254.277062 57.838235 C 262.761195 37.94761 246.145699 22.964154 226.708038 29.6875 Z M 226.708038 29.6875 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 333.879752 46.26011 C 346.314916 20.449449 368.063225 32.341912 373.213676 46.452206 C 374.307265 17.061581 332.592139 14.040441 333.879752 46.26011 Z M 333.879752 46.26011 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 387.130477 23.330882 C 408.667123 27.591912 410.448615 54.694853 388.276981 61.872243 C 426.71134 64.71875 414.311453 14.89614 387.130477 23.330882 Z M 387.130477 23.330882 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
<path d="M 411.630396 27.26011 C 412.90037 23.453125 417.098341 21.357537 421.049372 22.527574 C 425.000403 23.69761 427.240496 27.714154 426.093992 31.556066 C 424.947487 35.397978 420.820071 37.633272 416.833763 36.585478 C 412.847455 35.520221 410.466253 31.573529 411.489288 27.696691 " transform="matrix(0.221461,0,0,0.223684,0,0)"/>
</g>
       <g id="elefante" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 129.314046 138.389437 C 119.274696 138.274284 110.055554 140.774753 102.731094 144.788663 C 87.819706 152.956313 79.945706 166.717117 80.716702 178.758849 C 81.135008 185.32258 84.120567 183.455453 84.981785 183.496579 C 87.803302 183.611732 91.133348 176.644966 89.952248 180.79048 C 89.058221 183.924291 92.453883 188.365913 95.144167 191.499725 C 97.194688 193.88504 98.096917 193.449103 97.83445 195.118824 C 97.309517 198.41714 97.383335 203.039718 96.883008 206.477862 C 96.054598 212.227296 95.734717 217.09663 96.784583 220.246891 C 98.211746 224.482883 106.020129 230.018461 118.954815 226.991577 C 121.317015 226.440487 127.033867 225.946974 127.673629 221.957739 C 128.050925 219.605324 124.318977 212.646782 122.752379 206.658817 C 123.006644 198.162158 128.280583 210.541124 141.994467 203.640159 C 142.396369 203.442754 143.46264 207.374412 143.454438 211.659755 C 143.438033 216.833422 142.109296 222.54173 142.470188 222.146919 C 143.971169 225.568613 151.156194 229.705902 166.10039 226.275983 C 168.142708 225.807145 171.825444 222.064667 170.841194 221.941288 C 169.906156 221.826135 169.274596 218.108333 168.46259 215.673666 C 166.567908 210.01471 164.615813 203.525006 169.143363 199.256113 C 170.636142 197.8496 173.752933 194.666437 176.599056 194.510158 C 177.927794 194.436131 169.323808 201.518051 169.64369 208.419016 C 170.103006 218.19881 180.921554 224.672063 182.004229 223.64391 C 185.883815 221.875486 190.091483 218.429116 190.993713 213.271899 C 191.264381 211.676205 186.187292 210.113412 187.114127 208.147583 C 187.893325 206.494313 194.873298 201.31242 195.693506 199.650924 C 196.858202 197.298509 202.246971 194.024869 203.157402 192.04259 C 206.25779 185.314354 206.774521 181.34157 206.684298 173.70856 C 206.553065 162.316621 201.451369 147.009474 193.46254 142.271744 C 185.768985 137.698518 169.200777 133.775085 154.592867 136.974698 C 152.550548 137.41886 149.195896 140.14141 147.694915 139.911104 C 143.159163 139.211959 136.712325 138.14268 129.314046 138.389437 Z M 129.314046 138.389437 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
<path d="M 20.997333 188.176733 C 20.997333 188.176733 16.125296 193.983743 15.428119 198.630996 C 15.15745 200.374744 15.682383 202.636681 16.108892 202.916339 C 17.355608 203.747087 18.446485 202.801186 19.110854 202.110267 C 19.504554 201.699006 19.471746 200.909384 19.996679 201.937537 C 22.055402 205.943223 22.498315 206.477862 23.564585 208.303863 C 25.139385 211.018187 20.890706 220.065937 25.057365 222.081117 C 27.870679 223.438279 26.090827 222.54173 30.347708 223.446505 C 33.161023 224.046946 32.406431 223.487631 35.506819 223.290225 C 37.065215 223.191523 38.270921 221.785009 37.99205 220.872009 C 37.95104 220.756856 35.974338 215.426909 35.998944 214.283602 C 35.998944 214.045071 35.293565 212.416476 36.06456 212.655007 C 38.828663 213.510431 41.674785 213.625584 45.365723 212.835962 C 47.908369 212.293097 43.823731 220.789756 46.177729 222.336099 C 47.186585 222.994117 48.712173 223.438279 50.893927 223.619234 C 59.465104 224.343054 58.907363 220.510099 57.32436 216.479738 C 56.25809 213.781863 59.055 208.599971 61.950335 208.698673 C 61.950335 208.698673 70.989031 205.318105 75.39355 202.077366 C 84.752127 195.176401 85.908621 181.999588 84.60449 183.858489 C 83.956525 184.779715 81.766569 181.884435 80.979169 182.534228 C 80.003121 183.348525 79.691442 184.171048 78.756404 185.207426 C 75.951292 188.308337 73.597294 184.664561 69.151765 182.336822 C 64.312535 179.795227 53.904092 179.054957 52.280079 179.836353 C 47.350627 182.229894 49.261713 183.282723 47.555679 182.303921 C 40.821769 178.470966 24.146933 182.591804 20.997333 188.176733 Z M 20.997333 188.176733 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
<path d="M 191.092138 161.337819 C 191.092138 163.895864 189.738794 165.985072 188.057367 166.001522 C 186.37594 166.026198 184.99799 163.978117 184.965181 161.420071 C 184.940575 158.8538 186.269313 156.739917 187.95074 156.674115 C 189.632167 156.608314 191.034723 158.615269 191.092138 161.173314 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
<path d="M 67.683592 188.324787 C 67.683592 190.167238 66.650129 191.664229 65.370604 191.68068 C 64.091079 191.69713 63.041213 190.224815 63.016606 188.382364 C 62.992 186.539913 64.009058 185.018246 65.288583 184.968895 C 66.57631 184.919543 67.642581 186.367183 67.683592 188.209634 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
<path d="M 66.116994 188.472841 C 66.116994 189.073283 65.879133 189.558571 65.575656 189.566796 C 65.272179 189.566796 65.026117 189.089733 65.026117 188.489292 C 65.017915 187.88885 65.255775 187.395337 65.559252 187.378886 C 65.854527 187.362436 66.108792 187.831274 66.116994 188.431715 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
<path d="M 189.197456 160.975909 C 189.197456 161.971161 188.844767 162.785459 188.401854 162.793684 C 187.967144 162.801909 187.59805 162.004062 187.59805 161.000585 C 187.589848 160.005332 187.934335 159.174584 188.377248 159.149909 C 188.82016 159.125233 189.181052 159.906629 189.197456 160.910107 " transform="matrix(0.476251,0,0,0.474911,0,0)"/>
</g>
        <g id="manzana" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 60.649208 81.693279 C 37.76424 89.684005 29.550604 109.991349 20.632283 128.733021 C 18.113897 143.821459 11.321185 157.622566 18.980314 175.761165 C 26.31598 221.965882 53.094049 242.516775 80.426626 233.145939 C 117.567045 220.411807 111.825587 248.767865 155.134897 225.688701 C 168.396857 212.409484 173.237242 200.487183 179.683386 186.372941 C 183.033533 179.054875 185.159143 169.730429 185.598128 158.051676 C 188.162723 118.770709 169.482767 111.800569 166.201934 104.946406 C 152.096661 109.330287 153.413615 110.571227 147.649052 110.745191 C 126.485367 111.371459 112.749765 108.332896 109.341857 108.854787 C 104.027832 107.126749 100.596819 101.931038 96.576643 98.161828 C 69.590634 72.879126 67.199322 83.780842 60.649208 81.693279 Z M 60.649208 81.693279 " transform="matrix(0.338138,0,0,0.336816,0,0)"/>
<path d="M 100.169387 102.476124 C 98.63294 90.56542 98.910194 81.809255 86.641725 65.60745 C 90.361543 57.63992 98.00912 60.516117 99.025716 58.590921 C 107.123829 73.563383 108.856664 82.180377 109.341857 89.533236 C 109.907917 104.030198 109.607559 107.660237 108.625619 108.205323 C 105.494965 109.979751 102.849504 104.494101 100.169387 102.476124 Z M 100.169387 102.476124 " transform="matrix(0.338138,0,0,0.336816,0,0)"/>
<path d="M 136.570464 92.838543 L 136.154583 97.373193 Z M 136.570464 92.838543 " transform="matrix(0.338138,0,0,0.336816,0,0)"/>
<path d="M 109.746185 90.774176 C 111.918005 81.090206 116.527344 72.160077 132.850646 66.836793 C 141.145147 63.438705 150.687289 61.293155 168.754977 67.66022 C 176.933955 71.371442 184.223413 72.484809 189.860901 72.009309 C 192.795167 71.76576 193.499853 74.595567 192.679645 78.387972 C 186.545411 94.033093 187.585112 93.372032 166.687127 104.795637 L 151.807855 110.629215 C 135.288166 111.661399 122.973489 109.689812 108.879768 108.993958 C 108.209739 107.973372 109.399619 116.335219 109.746185 90.774176 Z M 109.746185 90.774176 " transform="matrix(0.338138,0,0,0.336816,0,0)"/>
</g>
        <g id="mariposa" style="display:none;" fill="hsl(200, 100%, 50%)">
<path d="M 17.692011 78.697734 C 32.151408 91.112148 28.613006 106.772734 43.334507 118.046602 C 33.636664 125.986563 36.825594 130.768086 35.820863 136.602422 C 43.946083 157.614805 55.522337 170.511758 70.724362 175.030078 C 82.693772 175.731953 88.372689 172.748984 91.517936 167.090117 L 108.292584 136.602422 C 107.113116 130.85582 105.933649 125.109219 104.754181 119.362617 C 104.928917 111.685859 105.365757 104.667109 107.855744 101.684141 L 106.545224 97.692227 C 86.800066 80.847227 71.24857 60.756055 45.955546 53.912773 C 39.621369 52.114219 33.243508 50.315664 23.414613 50.84207 C 4.324714 57.773086 11.619938 68.301211 17.692011 78.697734 Z M 17.692011 78.697734 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
<path d="M 110.083627 95.937539 C 108.161532 99.490781 106.239437 101.947344 104.317342 112.3 C 104.361026 125.723359 105.453125 134.058125 107.855744 135.725078 L 109.646787 155.158242 C 111.306778 157.52707 112.355194 162.791133 116.243068 155.158242 L 115.806228 138.357109 L 118.90779 126.863906 C 123.40724 117.915 119.431998 107.650078 115.806228 96.376211 C 115.762544 84.883008 119.912522 73.345938 123.450924 67.68707 C 125.853543 63.914492 121.091989 59.045234 131.139305 59.966445 C 141.18662 60.931523 135.158231 71.678984 126.858275 70.713906 C 116.199384 77.030781 121.703565 93.349375 114.495709 96.376211 L 96.104754 65.625313 C 91.037412 60.098047 86.144806 62.203672 85.751651 65.405977 C 84.834287 72.863398 90.90636 73.828477 96.148438 70.538438 C 102.963138 79.004805 109.078895 87.471172 110.083627 95.937539 Z M 110.083627 95.937539 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
<path d="M 163.989657 61.896602 L 117.597271 95.060195 C 118.776739 102.824688 119.956206 101.903477 121.135673 115.370703 C 122.140405 124.670547 120.698834 124.62668 118.470951 133.487852 L 122.883033 145.419727 C 122.883033 145.419727 129.348261 167.090117 138.347161 171.959375 C 146.122909 176.170625 154.641285 177.398906 164.863336 170.643359 C 176.614327 162.484062 184.957967 150.946992 189.632152 135.725078 C 187.579005 119.274883 183.953235 121.336641 180.807989 118.046602 L 187.884793 111.817461 L 199.810519 86.199023 L 212.173085 68.520547 C 207.4989 62.642344 215.711488 46.411484 182.992188 51.719414 Z M 163.989657 61.896602 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
</g>
        <g id="personas" style="display:none;" fill="hsl(200, 100%, 50%)">
<path  d="M 392.28213 233.373438 C 392.28213 268.686523 366.028059 297.419531 333.439811 297.726602 C 300.895246 298.033672 274.160651 269.82707 273.59276 234.470117 C 273.068552 199.157031 298.842099 169.941484 331.430348 169.020273 C 363.974912 168.099063 391.146347 195.823125 392.28213 231.136211 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
<path  d="M 751.84496 233.417305 C 751.84496 268.774258 725.590889 297.507266 693.002641 297.814336 C 660.414393 298.121406 633.723482 269.870938 633.15559 234.513984 C 632.587698 199.200898 658.40493 169.985352 690.949494 169.064141 C 723.537742 168.14293 750.709177 195.910859 751.801276 231.223945 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
<path  d="M 201.164723 384.232695 C 175.434859 461.088008 185.787962 458.675313 179.060629 506.973086 C 184.259023 516.58 178.40537 575.712969 209.246259 527.108125 C 223.225132 484.469219 227.15669 401.647969 255.507592 416.431211 C 281.06272 450.033477 241.747139 559.262773 233.359815 635.723281 C 209.377311 732.801367 185.700594 828.958242 193.126871 836.898203 C 220.516725 890.460039 265.642276 786.231602 259.526518 774.519063 L 293.731074 621.641914 C 305.6568 610.806719 315.31096 609.008164 321.90724 619.624023 C 343.268706 661.999727 330.03246 681.389023 339.992408 758.463672 C 341.477663 837.336875 356.679688 834.090703 368.168574 852.997461 C 375.245379 855.98043 379.832196 861.419961 402.373129 848.96168 C 371.095401 681.608359 365.241747 536.846641 382.234815 412.39543 L 460.691241 513.026758 C 480.523768 536.495703 518.397777 532.854727 502.933649 511.008867 C 472.485915 467.887422 456.104423 442.883125 426.486686 372.169219 C 405.693112 332.118477 384.943222 331.723672 364.149648 321.897422 C 327.236686 312.422109 291.110035 306.850977 259.526518 323.915313 C 205.314701 360.45668 206.275748 377.170078 201.164723 384.232695 Z M 201.164723 384.232695 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
<path  d="M 567.323834 456.657422 C 586.93794 394.409883 615.944102 343.831016 655.827575 327.907227 C 774.604313 286.979141 818.419344 345.980508 836.897667 448.629727 L 844.935519 541.189492 C 833.883473 549.304922 822.65669 558.341563 816.803037 535.13582 C 809.376761 515.527187 811.910431 408.49125 766.479093 416.431211 C 749.354974 424.23957 752.93706 432.223398 762.460167 472.75668 L 832.878741 832.862422 C 826.588248 852.471055 815.011994 861.463828 792.645797 848.96168 C 763.727003 782.590625 742.540273 716.175703 740.356074 649.804648 C 721.353543 603.6125 700.822073 608.832695 692.041593 659.850234 C 689.245819 738.67957 689.901078 774.255859 665.918574 848.96168 C 611.96886 877.826289 625.46721 809.876016 639.708187 728.633984 C 650.760233 611.72793 665.525418 485.258828 639.751871 412.39543 C 620.225132 442.839258 598.90735 479.249023 563.304908 515.000781 C 570.381712 523.160078 511.670445 549.041719 519.053037 513.026758 C 538.841879 492.40918 556.359155 484.688555 567.323834 456.657422 Z M 567.323834 456.657422 " transform="matrix(0.0894207,0,0,0.0890472,0,0)"/>
</g>
    </svg>

    <script>
        const fileInput = document.getElementById('audioFile');
        const audioPlayer = document.getElementById('audioPlayer');
        const songSelect = document.getElementById('songSelect');
        const shapes = {
            coldplay: document.getElementById('coldplay'),
            cloud: document.getElementById('cloud'),
            heart: document.getElementById('heart'),
            eyes: document.getElementById('eyes'),
            star: document.getElementById('star'),
            coldplay2: document.getElementById('coldplay2'),
            elefante: document.getElementById('elefante'),
            manzana: document.getElementById('manzana'),
            mariposa: document.getElementById('mariposa'),
            personas: document.getElementById('personas'),


        };
    
        let audioContext, analyser, frequencyData;
        let currentShapeIndex = 0;
        let cycleTimeout;
    
        const songConfig = {
            AlienRadio: {
                shapeOrder: ['coldplay', 'cloud', 'heart', 'eyes', 'star'],
                durations: [3000, 3000, 3000, 3000, 3000, 3000, 3000]
            },
            Paradise: {
                shapeOrder: ['coldplay2', 'elefante', 'manzana', 'mariposa', 'personas'],
                durations: [3000, 3000, 3000, 3000, 3000, 3000, 3000]
            }
        };
        //COPIADLO DE AQUÍ HASTA EL FINAL
        
        fileInput.addEventListener('change', handleFileUpload);
        songSelect.addEventListener('change', resetVisualizer);
        audioPlayer.addEventListener('play', startCycleShapes);
        audioPlayer.addEventListener('pause', stopCycleShapes);
    
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('audio/')) {
                const audioURL = URL.createObjectURL(file);
                audioPlayer.src = audioURL;
                audioPlayer.load();
                initAudio();
            } else {
                alert('Please upload a valid audio file.');
            }
        }
    
        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            analyser = audioContext.createAnalyser();
            analyser.fftSize = 256;
            frequencyData = new Uint8Array(analyser.frequencyBinCount);
    
            const source = audioContext.createMediaElementSource(audioPlayer);
            source.connect(analyser);
            analyser.connect(audioContext.destination);
    
            visualize();
        }
    
        function visualize() {
            requestAnimationFrame(visualize);
            analyser.getByteFrequencyData(frequencyData);
    
            const averageFrequency = frequencyData.reduce((a, b) => a + b) / frequencyData.length;
            const scale = averageFrequency / 255;
    
            const selectedShape = shapes[getCurrentShape()];
            const hue = Math.round((averageFrequency / 255) * 360);
            selectedShape.setAttribute('fill', `hsl(${hue}, 100%, 50%)`);
            selectedShape.setAttribute('transform', `scale(${scale + 0.5})`);
        }
    
        function startCycleShapes() {
            const songData = songConfig[songSelect.value];
            updateShapeVisibility();
    
            // Avanzar a la siguiente forma después de la duración actual solo si el audio está reproduciéndose
            cycleTimeout = setTimeout(() => {
                currentShapeIndex = (currentShapeIndex + 1) % songData.shapeOrder.length;
                if (!audioPlayer.paused) {
                    startCycleShapes(); // Recursión controlada para que avance solo al reproducirse
                }
            }, songData.durations[currentShapeIndex]);
        }
    
        function stopCycleShapes() {
            clearTimeout(cycleTimeout); // Detiene el cambio de formas cuando el audio se pausa
        }
    
        function resetVisualizer() {
            clearTimeout(cycleTimeout);
            audioPlayer.currentTime = 0;
            audioPlayer.pause();
            currentShapeIndex = 0;
            updateShapeVisibility();
        }
    
        function getCurrentShape() {
            return songConfig[songSelect.value].shapeOrder[currentShapeIndex];
        }
    
        function updateShapeVisibility() {
            Object.keys(shapes).forEach(key => {
                shapes[key].style.display = key === getCurrentShape() ? 'block' : 'none';
            });
        }
    </script>    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
